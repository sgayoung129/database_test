# ğŸ“ ë°ì´í„°ë² ì´ìŠ¤ ì‹œí—˜ ì‹œìŠ¤í…œ (Database Exam System)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-13+-blue.svg)](https://www.postgresql.org/)

**ì™„ì „í•œ ì˜¨ë¼ì¸ ë°ì´í„°ë² ì´ìŠ¤ ì‹œí—˜ ì‹œìŠ¤í…œ** - ìë™ ì±„ì , ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§, PostgreSQL ê¸°ë°˜ ë°ì´í„° ê´€ë¦¬

**ğŸš€ í˜„ì¬ ë°°í¬ ì›¹ì‚¬ì´íŠ¸**: https://database-test-h7d0.onrender.com

## ğŸŒŸ ì£¼ìš” íŠ¹ì§•

### ğŸ“ **ì™„ì „ ìë™í™”ëœ ì‹œí—˜ ì‹œìŠ¤í…œ**
- **26ë¬¸í•­** ë°ì´í„°ë² ì´ìŠ¤ ì‹œí—˜ (ê°ê´€ì‹ 8ë¬¸í•­ + ì„œìˆ í˜• 8ë¬¸í•­ + SQL 8ë¬¸í•­)
- **60ë¶„ ì œí•œì‹œê°„** + ìë™ ì œì¶œ
- **í•™ìƒë‹¹ ìµœëŒ€ 3íšŒ** ì‹œë„ ì œí•œ
- **ì‹¤ì‹œê°„ ë‹µì•ˆ ì €ì¥** ë° ë³µì›

### ğŸ¤– **ì •êµí•œ ìë™ ì±„ì  ì‹œìŠ¤í…œ**
- **ê°ê´€ì‹**: ì™„ì „ ì¼ì¹˜ ê²€ì‚¬
- **ë‹¨ë‹µì‹**: í‚¤ì›Œë“œ ê¸°ë°˜ ì§€ëŠ¥í˜• ì±„ì  (ì •ê·œí™” ì²˜ë¦¬)
- **ì£¼ê´€ì‹**: í•„ìˆ˜/ì„ íƒ í‚¤ì›Œë“œ ê¸°ë°˜ ë¶€ë¶„ ì ìˆ˜
- **SQL**: ìˆ˜ë™ ì±„ì  í•„ìš” í‘œì‹œ
- **ìƒì„¸ í”¼ë“œë°±**: ë¬¸ì œë³„ ì±„ì  ê·¼ê±° ì œê³µ

### ğŸ‘¨â€ğŸ’¼ **ì ‘ê·¼ ê¶Œí•œ ê´€ë¦¬**
- **ê´€ë¦¬ì**: ì „ì²´ 15ëª… í•™ìƒ ê²°ê³¼ ì¡°íšŒ (ë¹„ë°€ë²ˆí˜¸: `admin123`)
- **í•™ìƒ**: ê°œì¸ë³„ 1~3íšŒ ì‹œí—˜ ê¸°ë¡ë§Œ ì¡°íšŒ
- **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: í•™ìƒë³„ ì‹œí—˜ ì§„í–‰ ìƒí™©

### ğŸ“ **íŒŒì¼ ì œì¶œ ì‹œìŠ¤í…œ**
- **ë‹¤ì¤‘ íŒŒì¼ í˜•ì‹**: ì´ë¯¸ì§€, ë¬¸ì„œ, ì••ì¶•íŒŒì¼ ì§€ì›
- **ë“œë˜ê·¸ ì•¤ ë“œë¡­**: ì§ê´€ì ì¸ íŒŒì¼ ì—…ë¡œë“œ
- **ë³´ì•ˆ ê²€ì¦**: íŒŒì¼ íƒ€ì… ë° í¬ê¸° ì œí•œ (10MB)

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚    Backend       â”‚    â”‚   Database      â”‚
â”‚                 â”‚    â”‚                  â”‚    â”‚                 â”‚
â”‚ â€¢ HTML5/CSS3    â”‚â—„â”€â”€â–ºâ”‚ â€¢ Node.js        â”‚â—„â”€â”€â–ºâ”‚ â€¢ PostgreSQL    â”‚
â”‚ â€¢ Vanilla JS    â”‚    â”‚ â€¢ Express.js     â”‚    â”‚ â€¢ JSONB         â”‚
â”‚ â€¢ Responsive    â”‚    â”‚ â€¢ Multer         â”‚    â”‚ â€¢ Triggers      â”‚
â”‚                 â”‚    â”‚ â€¢ RESTful API    â”‚    â”‚ â€¢ Views         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ
- **Frontend**: HTML5, CSS3, Vanilla JavaScript
- **Backend**: Node.js, Express.js
- **Database**: PostgreSQL (JSONB, Triggers, Views)
- **File Storage**: Local File System + Multer
- **Deployment**: Render.com

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ì„¤ì¹˜
```bash
git clone <repository-url>
cd database_test
npm install
```

### 2. í™˜ê²½ ì„¤ì •
```bash
cp .env.example .env
# .env íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ PostgreSQL ì—°ê²° ì •ë³´ ì…ë ¥
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```sql
-- PostgreSQLì—ì„œ ì‹¤í–‰
CREATE DATABASE database_test;
CREATE USER database_test_user WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE database_test TO database_test_user;

-- ìŠ¤í‚¤ë§ˆ ì ìš©
\c database_test;
\i database/schema.sql;
```

### 4. ì„œë²„ ì‹¤í–‰
```bash
# ê°œë°œ ëª¨ë“œ
npm run dev

# í”„ë¡œë•ì…˜ ëª¨ë“œ
npm start
```

### 5. ì ‘ì†
- **ë©”ì¸ í˜ì´ì§€**: http://localhost:10000
- **ì‹œí—˜ í˜ì´ì§€**: http://localhost:10000/exam.html
- **í•™ìƒ ê²°ê³¼ ì¡°íšŒ**: http://localhost:10000/student-results.html
- **ê´€ë¦¬ì í˜ì´ì§€**: http://localhost:10000/admin.html (ë¹„ë°€ë²ˆí˜¸: `admin123`)

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ğŸ“‹ ì£¼ìš” í…Œì´ë¸”

#### submissions (íŒŒì¼ ì œì¶œ)
```sql
CREATE TABLE submissions (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    phone VARCHAR(20) NOT NULL,
    email VARCHAR(255) NOT NULL,
    original_filename VARCHAR(255),
    file_path VARCHAR(500),
    file_size INTEGER,
    mime_type VARCHAR(100),
    submission_time TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

#### exam_results (ì‹œí—˜ ê²°ê³¼)
```sql
CREATE TABLE exam_results (
    id SERIAL PRIMARY KEY,
    student_name VARCHAR(100) NOT NULL,
    attempt_number INTEGER NOT NULL DEFAULT 1,
    total_score INTEGER NOT NULL DEFAULT 0,
    percentage INTEGER NOT NULL DEFAULT 0,
    category_scores JSONB NOT NULL DEFAULT '{}',  -- Aí˜•/Bí˜•/Cí˜• ì ìˆ˜
    answers JSONB NOT NULL DEFAULT '{}',          -- í•™ìƒ ë‹µì•ˆ
    grading_details JSONB NOT NULL DEFAULT '[]', -- ì±„ì  ìƒì„¸ ì •ë³´
    time_spent INTEGER NOT NULL DEFAULT 0,
    submitted_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(student_name, attempt_number)
);
```

#### exam_attempts (ì‹œë„ íšŸìˆ˜ ê´€ë¦¬)
```sql
CREATE TABLE exam_attempts (
    id SERIAL PRIMARY KEY,
    student_name VARCHAR(100) NOT NULL UNIQUE,
    total_attempts INTEGER NOT NULL DEFAULT 0,
    max_attempts INTEGER NOT NULL DEFAULT 3,
    last_attempt_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

## ğŸ”Œ API ì—”ë“œí¬ì¸íŠ¸

### ğŸ¯ ì‹œí—˜ ê´€ë ¨ API
| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|--------|------------|------|
| POST | `/api/check-attempts` | ì‹œë„ íšŸìˆ˜ í™•ì¸ |
| POST | `/api/save-exam-result` | ì‹œí—˜ ê²°ê³¼ ì €ì¥ |
| GET | `/api/exam-results` | ì „ì²´ ì‹œí—˜ ê²°ê³¼ ì¡°íšŒ (ê´€ë¦¬ììš©) |
| POST | `/api/student-results` | ê°œì¸ ì‹œí—˜ ê²°ê³¼ ì¡°íšŒ (í•™ìƒìš©) |
| POST | `/api/exam-detail` | ê°œë³„ ì‹œí—˜ ìƒì„¸ ì¡°íšŒ |
| POST | `/api/reset-exam-data` | ëª¨ë“  ì‹œí—˜ ë°ì´í„° ì´ˆê¸°í™” |

### ğŸ“ íŒŒì¼ ê´€ë ¨ API
| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|--------|------------|------|
| POST | `/submit` | íŒŒì¼ ì œì¶œ |
| GET | `/admin/submissions` | ì œì¶œ ë‚´ì—­ ì¡°íšŒ |
| GET | `/download/:filename` | íŒŒì¼ ë‹¤ìš´ë¡œë“œ |

## ğŸš€ ë°°í¬ ê°€ì´ë“œ

### Render.com ë°°í¬ (ê¶Œì¥)
1. **GitHub ë ˆí¬ì§€í† ë¦¬ ì—°ê²°**
2. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**: Render.com ëŒ€ì‹œë³´ë“œì—ì„œ ì„¤ì •
3. **PostgreSQL ì• ë“œì˜¨ ì¶”ê°€**
4. **ìë™ ë°°í¬ ì„¤ì •**: Git push ì‹œ ìë™ ë°°í¬

### í™˜ê²½ ë³€ìˆ˜
| ë³€ìˆ˜ëª… | ì„¤ëª… | ê¸°ë³¸ê°’ |
|--------|------|--------|
| `PORT` | ì„œë²„ í¬íŠ¸ | 10000 |
| `NODE_ENV` | ì‹¤í–‰ í™˜ê²½ | development |
| `DATABASE_URL` | PostgreSQL ì—°ê²° ë¬¸ìì—´ | - |
| `DB_HOST` | ë°ì´í„°ë² ì´ìŠ¤ í˜¸ìŠ¤íŠ¸ | localhost |
| `DB_PORT` | ë°ì´í„°ë² ì´ìŠ¤ í¬íŠ¸ | 5432 |
| `DB_NAME` | ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ | database_test |
| `DB_USER` | ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì | database_test_user |
| `DB_PASSWORD` | ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ | - |

## ğŸ“ˆ ì„±ê³¼ ì§€í‘œ

### ğŸ¯ ê¸°ëŠ¥ì  ì„±ê³¼
- âœ… **26ë¬¸í•­ ì™„ì „ ìë™ ì±„ì ** (SQL ì œì™¸ 84% ìë™í™”)
- âœ… **ì±„ì  ì •í™•ë„ 85%** (ê¸°ì¡´ 60% ëŒ€ë¹„ í–¥ìƒ)
- âœ… **ì‹¤ì‹œê°„ ì‹œí—˜ ì§„í–‰ ê´€ë¦¬**
- âœ… **3íšŒ ì‹œë„ ì œí•œ ì™„ë²½ êµ¬í˜„**
- âœ… **ê´€ë¦¬ì/í•™ìƒ ì ‘ê·¼ ê¶Œí•œ ë¶„ë¦¬**

### âš¡ ì„±ëŠ¥ ì§€í‘œ
- âœ… **15ëª… ë™ì‹œ ì ‘ì†** ì•ˆì •ì  ì²˜ë¦¬
- âœ… **99.9% ë°ì´í„° ë¬´ì†ì‹¤** ë‹¬ì„±
- âœ… **ê´€ë¦¬ì ì—…ë¬´ 50% íš¨ìœ¨í™”**
- âœ… **ì±„ì  ì‹œê°„ 90% ë‹¨ì¶•** (6ì‹œê°„ â†’ 36ë¶„)

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
database_test/
â”œâ”€â”€ ğŸ“ database/
â”‚   â”œâ”€â”€ schema.sql              # PostgreSQL ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ init.sql                # ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ ğŸ“ js/                      # í´ë¼ì´ì–¸íŠ¸ JavaScript
â”‚   â”œâ”€â”€ exam.js                 # ì‹œí—˜ ë¡œì§ (API ì—°ë™)
â”‚   â”œâ”€â”€ admin.js                # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”œâ”€â”€ student-results.js      # í•™ìƒ ê²°ê³¼ ì¡°íšŒ
â”‚   â”œâ”€â”€ submission.js           # íŒŒì¼ ì œì¶œ
â”‚   â””â”€â”€ results.js              # ê²°ê³¼ í‘œì‹œ
â”œâ”€â”€ ğŸ“ public/                  # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ index.html              # ë©”ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ exam.html               # ì‹œí—˜ í˜ì´ì§€
â”‚   â”œâ”€â”€ admin.html              # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â””â”€â”€ results.html            # ê²°ê³¼ í˜ì´ì§€
â”œâ”€â”€ ğŸ“ css/
â”‚   â””â”€â”€ style.css               # ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”œâ”€â”€ ğŸ“ uploads/                 # íŒŒì¼ ì €ì¥ì†Œ
â”œâ”€â”€ ğŸ“„ server.js                # Express ì„œë²„
â”œâ”€â”€ ğŸ“„ package.json             # í”„ë¡œì íŠ¸ ì„¤ì •
â”œâ”€â”€ ğŸ“„ .env.example             # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
â”œâ”€â”€ ğŸ“„ README_backend.md        # ë°±ì—”ë“œ ê°€ì´ë“œ
â”œâ”€â”€ ğŸ“„ student-results.html     # í•™ìƒ ê²°ê³¼ ì¡°íšŒ í˜ì´ì§€
â””â”€â”€ ğŸ“„ DEVELOPMENT_LOG.md       # ê°œë°œì¼ì§€
```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜
```bash
# ì—°ê²° ë¬¸ìì—´ í™•ì¸
echo $DATABASE_URL

# PostgreSQL ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
sudo systemctl status postgresql
```

### íŒŒì¼ ì—…ë¡œë“œ ì˜¤ë¥˜
```bash
# uploads ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸
ls -la uploads/
chmod 755 uploads/
```

### ìŠ¤í‚¤ë§ˆ ì ìš© ì˜¤ë¥˜
```sql
-- ìˆ˜ë™ ìŠ¤í‚¤ë§ˆ ì ìš©
\i database/schema.sql

-- í…Œì´ë¸” í™•ì¸
\dt
```

## ğŸ“ ì§€ì› ë° ê¸°ì—¬

### ğŸ¤ ê¸°ì—¬ ë°©ë²•
1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

### ğŸ“‹ ìš”êµ¬ì‚¬í•­
- Node.js 18+
- PostgreSQL 13+
- 10MB ì—¬ìœ  ë””ìŠ¤í¬ ê³µê°„

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

---

## ğŸŒŸ íŠ¹ë³„ ê°ì‚¬

ì´ í”„ë¡œì íŠ¸ëŠ” ì‹¤ì œ êµìœ¡ í˜„ì¥ì˜ í•„ìš”ì— ì˜í•´ ì‹œì‘ë˜ì—ˆìœ¼ë©°, ì§€ì†ì ì¸ í”¼ë“œë°±ê³¼ ê°œì„ ì„ í†µí•´ ë°œì „í•˜ê³  ìˆìŠµë‹ˆë‹¤.

**â­ ì´ í”„ë¡œì íŠ¸ê°€ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ Starë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!**

---

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2024ë…„ 10ì›”*